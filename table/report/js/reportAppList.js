var ReportList=function(A,C,B){this.curPage=parseInt(A);this.endEPage=parseInt(C);this.relative=B};ReportList.prototype={initApp:function(){var C=this.endEPage;var A=this.curPage;if(A>0&&C>1){report.setPage(A,C)}$(".panel-st").each(function(){var F=$(this).attr("title");var E="";$(this).find(".panel-body-st").each(function(){E=$(this).attr("id")});var D='<div class="panel-heading-rpt">';D+='  <span class="panel-title panel-title-rpt">'+F+"</span>";D+='  <div class="panel-tools">';D+='    <a href="javascript:void(0)" onclick="report.reloadBox(\''+E+"')\">";D+='      <i class="icon iconfont icon-0101"></i>';D+="    </a>";D+="  </div>";D+="</div>";$(this).prepend(D)});var B=$("#tg");B.find("input[type=checkbox]").each(function(){var F=$(this).parent();if(!F.is("label")){var D=$(this).clone();var E=$('<label class="ui-checkbox" for="for"></label>');E.append(D);$(this).remove();F.append(E)}})}};ReportList.prototype.fixedCell=function(J,A){if(J==-1&&A==-1){return }var C=$("div.ui-header-positive");var F=$("div.ui-footer-btn");var E=$("#ui-list-info-tool-arg");var I=C.length>0?C.height():0;var D=F.length>0?F.height():0;var H=E.length>0?E.height()+8:0;var B=$(window).height()-I-D-H;var G=$("body").width();var K=B-5;$("#table-content").css("overflow","hidden");this.fixTable("tg",J,A+1,G,K)};ReportList.prototype.fixTable=function(G,Z,K,Y,T){var N=$("#"+G);var F=$("#"+G+"_tableLayout");if(Z>=0){var Q=N.find("tr");if(Q.length==0){return }var a=Q.parent("tbody").length>0;if(!a){N.find("tr:lt("+(settings.fixedRow+1)+")").wrapAll("<thead></thead>");N.find("tr:gt("+settings.fixedRow+")").wrapAll("<tbody></tbody>")}else{var M=$("<thead></thead>");M.append(N.find("tr:lt("+(Z+1)+")").clone());M.insertBefore(N.find("tbody"));N.find("tbody > tr:lt("+(Z+1)+")").remove()}}if(F.length!=0){F.before($("#"+G));F.empty()}else{$("#"+G).after("<div id='"+G+"_tableLayout' style='overflow:hidden;height:"+T+"px; width:"+Y+"px;'></div>")}$('<div id="'+G+'_tableFix"></div><div id="'+G+'_tableHead"></div><div id="'+G+'_tableColumn"></div><div id="'+G+'_tableData"></div>').appendTo("#"+G+"_tableLayout");var P=$("#"+G);var S=P.clone(true);S.attr("id",G+"_tableFixClone");$("#"+G+"_tableFix").append(S);var A=P.clone(true);A.attr("id",G+"_tableHeadClone");var V=$("<div></div>");V.append(A);$("#"+G+"_tableHead").append(V);var c=P.clone(true);c.attr("id",G+"_tableColumnClone");var X=$("<div></div>");X.append(c);$("#"+G+"_tableColumn").append(X);var B=$("<div></div>");B.append(P);$("#"+G+"_tableData").append(B);$("#"+G+"_tableLayout table").each(function(){$(this).css("margin","0")});var R=$("#"+G+"_tableHead thead").height();R+=2;$("#"+G+"_tableHead").css("height",R);$("#"+G+"_tableFix").css("height",R);var W=0;var b=0;$("#"+G+"_tableColumn colgroup:first col:lt("+K+")").each(function(){W+=$(this).outerWidth(true);b++});$("#"+G+"_tableColumn").css("width",W);$("#"+G+"_tableFix").css("width",W);$("#"+G+"_tableData").scroll(function(){$("#"+G+"_tableHead").scrollLeft($("#"+G+"_tableData").scrollLeft());$("#"+G+"_tableColumn").scrollTop($("#"+G+"_tableData").scrollTop())});$("#"+G+"_tableFix").css({"overflow":"hidden","position":"relative","z-index":"50","background-color":"#fff"});$("#"+G+"_tableHead").css({"overflow":"hidden","width":Y,"position":"relative","z-index":"45","background-color":"#fff"});$("#"+G+"_tableColumn").css({"overflow":"hidden","height":T,"position":"relative","z-index":"40","background-color":"#fff"});$("#"+G+"_tableData").css({"overflow":"hidden","width":Y,"height":T,"position":"relative","z-index":"35"});if($("#"+G+"_tableHead").width()>$("#"+G+"_tableFix table").width()){$("#"+G+"_tableHead").css("width",$("#"+G+"_tableFix table").width());$("#"+G+"_tableData").css("width",$("#"+G+"_tableFix table").width())}if($("#"+G+"_tableColumn").height()>$("#"+G+"_tableColumn table").height()){$("#"+G+"_tableColumn").css("height",$("#"+G+"_tableColumn table").height());$("#"+G+"_tableData").css("height",$("#"+G+"_tableColumn table").height())}$("#"+G+"_tableFix").offset($("#"+G+"_tableLayout").offset());$("#"+G+"_tableHead").offset($("#"+G+"_tableLayout").offset());$("#"+G+"_tableColumn").offset($("#"+G+"_tableLayout").offset());$("#"+G+"_tableData").offset($("#"+G+"_tableLayout").offset());var I=$("#"+G+"_tableColumn").width();var H=$("#"+G+"_tableHead").height();B.width(P.width());V.width(A.width());P.css({"position":"relative",top:-H,left:-I});B.css({"position":"relative",top:H,"overflow":"hidden",left:I});c.css({"position":"relative",top:-H});X.css({"position":"relative",top:H,"overflow":"hidden"});V.css({"position":"relative",left:I,"overflow":"hidden"});A.css({"position":"relative",left:-I});var E=new IScroll("#tg_tableData",{scrollX:K>0?true:false,scrollY:Z>=0?true:false,probeType:3});var D=null;var U=null;if(Z>=0&&K>0){D=new IScroll("#tg_tableColumn",{scrollX:false,scrollY:true,probeType:3});D.on("scroll",L);D.on("scrollEnd",L);$("#tg_tableColumn").on("touchmove mousewheel",function(d){d.preventDefault()});U=new IScroll("#tg_tableHead",{scrollX:true,scrollY:false,probeType:3});U.on("scroll",O);U.on("scrollEnd",O);$("#tg_tableHead").on("touchmove mousewheel",function(d){d.preventDefault()})}var J=$("#tg_tableData");J.on("touchmove mousewheel",function(d){d.preventDefault()});E.on("scroll",C);E.on("scrollEnd",C);function C(){var e=this.y;var d=this.x;if(D!=null){D.y=E.y}if(U!=null){U.x=E.x}$("#tg_tableColumn").children("div").css("transform","translate(0px, "+e+"px) translateZ(0px)");$("#tg_tableHead").children("div").css("transform","translate("+d+"px, 0px) translateZ(0px)")}function L(){E.y=D.y;$("#tg_tableData").children("div").css("transform","translate("+E.x+"px, "+this.y+"px) translateZ(0px)")}function O(){E.x=U.x;$("#tg_tableData").children("div").css("transform","translate("+this.x+"px, "+E.y+"px) translateZ(0px)")}};ReportList.prototype.resize=function(){if(this.relative=="2"){percentWidth()}else{if(this.relative=="4"){percentHeight()}else{if(this.relative=="6"){percentWidth();percentHeight()}}}chart.reDraw()};ReportList.prototype.areaResize=function(A){if(this.relative=="2"){percentWidthTg(A)}else{if(this.relative=="4"){percentHeightTg(A)}else{if(this.relative=="6"){percentWidthTg(A);percentHeightTg(A)}}}};function percentWidth(){var D=$("#table-content");D.css("overflow-x","hidden");var A=D.width();var C=$("#contentDiv").children("table");var B=C.width();if(C.attr("ow")){B=parseInt(C.attr("ow"))}else{C.attr("ow",C.width())}percentWidthTable(C,B,A);C.find("table.tg").each(function(){var E=$(this).parent("div");percentWidthTg(E)})}function percentWidthTable(C,G,B){var E=B/G;var D=C.children("colgroup");var F=new Array();D.find("col").each(function(){var I=$(this).width();if($(this).attr("ow")){I=parseInt($(this).attr("ow"))}else{$(this).attr("ow",I)}var H=Math.floor(I*E);$(this).width(H);F.push(H)});C.width(B);var A=null;if(C.children("tbody").length>0){A=C.children("tbody").children("tr")}else{A=C.children("tr")}A.each(function(H){$(this).children("td").each(function(M){var S=$(this).children("div");var K=parseInt($(this).attr("colspan"));var N=$(this).attr("id");var I=N.split("_");var J=parseInt(N.split("_")[I.length-1]);var P=0;for(var R=J;R<J+K;R++){P+=F[R]}var Q=$(this).css("padding-left");var O=$(this).css("padding-right");var T=0;if(Q!=undefined){T+=parseInt(Q.substring(0,Q.length-2))}if(O!=undefined){T+=parseInt(O.substring(0,O.length-2))}if(S.length>0){if($(S[0]).hasClass("pbox")){var L=$(S[0]);L.width(P-T);L.children().width(P-T)}else{$(S[0]).width(P-T)}}})})}function percentWidthTg(A){if(A.length>0){var D=A.attr("rv");var C=A.find("table.tg");if(D=="2"||D=="6"){var B=C.width();if(C.attr("ow")){B=parseInt(C.attr("ow"))}else{C.attr("ow",C.width())}percentWidthTable(C,B,A.width())}}}function percentHeight(){var D=$("#table-content");D.css("overflow-y","hidden");var B=D.height()-12;var C=$("#contentDiv").children("table");var A=C.height();if(C.attr("oh")){A=parseInt(C.attr("oh"))}else{C.attr("oh",A)}C.height(B);percentHeighTable(C,A,B);C.find("table.tg").each(function(){var E=$(this).parent("div");percentHeightTg(E)})}function percentHeighTable(C,B,D){var F=D/B;var A=null;if(C.children("tbody").length>0){A=C.children("tbody").children("tr")}else{A=C.children("tr")}if(A!=null){var E=new Array();A.each(function(){var G=$(this).height();if($(this).attr("oh")){G=parseInt($(this).attr("oh"))}else{$(this).attr("oh",G)}var H=Math.floor(G*F);$(this).height(H);E.push(H)});A.each(function(G){$(this).children("td").each(function(M){var O=$(this).children("div");if(O.length>0){var J=$(this).css("padding-top");var P=$(this).css("padding-bottom");var Q=0;if(J!=undefined){Q+=parseInt(J.substring(0,J.length-2))}if(P!=undefined){Q+=parseInt(P.substring(0,P.length-2))}var L=parseInt($(this).attr("rowspan"));var N=0;for(var I=G;I<G+L;I++){N+=E[I]}if($(O[0]).hasClass("pbox")){var K=$(O[0]);K.height(N-Q);var H=K.children();if(H.length==2){$(H[1]).height(N-$(H[0]).height()-Q-5)}}else{$(O[0]).height(N-Q-2)}}})})}}function percentHeightTg(A){if(A.length>0){var D=A.attr("rv");var C=A.find("table.tg");if(D=="4"||D=="6"){var B=C.height();if(C.attr("oh")){B=parseInt(C.attr("oh"))}else{C.attr("oh",B)}percentHeighTable(C,B,A.height()-C.prev().height())}}}